{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///F:/code/next/task/quantum-edge-task/app/components/registration/RegistrationForm.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useState } from \"react\";\r\n\r\nconst RegistrationForm = () => {\r\n  const [formData, setFormData] = useState({\r\n    first_name: \"\",\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [registrationSuccess, setRegistrationSuccess] = useState(false); // New state for success\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n    setLoading(true);\r\n    setRegistrationSuccess(false);\r\n    try {\r\n      const response = await fetch(\r\n        \"https://api.mnimedu.com/api/auth/registration/\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            first_name: formData.first_name,\r\n            email: formData.email,\r\n            username: formData.username,\r\n            password: formData.password,\r\n          }),\r\n        }\r\n      );\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setMessage(\"Registration successful! You can now log in.\");\r\n        setRegistrationSuccess(true);\r\n        setFormData({\r\n          first_name: \"\",\r\n          email: \"\",\r\n          username: \"\",\r\n          password: \"\",\r\n        });\r\n        console.log(\"Registration success:\", data);\r\n      } else {\r\n        const errorMessages =\r\n          Object.values(data.error || data)\r\n            .flat()\r\n            .join(\"; \") ||\r\n          data.message ||\r\n          \"Something went wrong.\";\r\n        setMessage(`Registration failed: ${errorMessages}`);\r\n        console.error(\"Registration error:\", data);\r\n      }\r\n    } catch (err) {\r\n      setMessage(\r\n        \"Network error or API is unavailable. Please try again later.\"\r\n      );\r\n      console.error(\"Fetch error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {registrationSuccess ? (\r\n        <h2 className=\"text-3xl text-white font-bold z-20\">\r\n          Registration success!{\" \"}\r\n          <Link href=\"/login\" className=\"text-primary cursor-pointer\">\r\n            Log in\r\n          </Link>{\" \"}\r\n        </h2>\r\n      ) : (\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"md:w-96 w-80 flex flex-col items-center justify-center z-10\"\r\n        >\r\n          <h2 className=\"text-3xl text-white font-bold\">Open your account</h2>\r\n          <p className=\"text-sm text-white mt-3\">\r\n            Already have an account?{\" \"}\r\n            <Link className=\"text-primary\" href={`/`}>\r\n              Sign In\r\n            </Link>\r\n          </p>\r\n\r\n          <div className=\"flex items-center w-full bg-transparent border border-gray-300/60 has-[input:focus]:border has-[input:focus]:border-[#05AF2B] h-12 rounded-full overflow-hidden pl-6 gap-2 mt-10\">\r\n            <svg\r\n              width=\"16\"\r\n              height=\"11\"\r\n              viewBox=\"0 0 16 11\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                clipRule=\"evenodd\"\r\n                d=\"M0 .55.571 0H15.43l.57.55v9.9l-.571.55H.57L0 10.45zm1.143 1.138V9.9h13.714V1.69l-6.503 4.8h-.697zM13.749 1.1H2.25L8 5.356z\"\r\n                fill=\"#6B7280\"\r\n              />\r\n            </svg>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"First Name\"\r\n              className=\"bg-transparent text-gray-500/80 placeholder-gray-500/80 outline-none text-sm w-full h-full \"\r\n              required\r\n              name=\"first_name\"\r\n              value={formData.first_name}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center w-full bg-transparent border border-gray-300/60 has-[input:focus]:border has-[input:focus]:border-[#05AF2B] h-12 rounded-full overflow-hidden pl-6 gap-2 mt-10\">\r\n            <svg\r\n              width=\"16\"\r\n              height=\"11\"\r\n              viewBox=\"0 0 16 11\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                clipRule=\"evenodd\"\r\n                d=\"M0 .55.571 0H15.43l.57.55v9.9l-.571.55H.57L0 10.45zm1.143 1.138V9.9h13.714V1.69l-6.503 4.8h-.697zM13.749 1.1H2.25L8 5.356z\"\r\n                fill=\"#6B7280\"\r\n              />\r\n            </svg>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email id\"\r\n              className=\"bg-transparent text-gray-500/80 placeholder-gray-500/80 outline-none text-sm w-full h-full \"\r\n              required\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center w-full bg-transparent border border-gray-300/60 has-[input:focus]:border has-[input:focus]:border-[#05AF2B] h-12 rounded-full overflow-hidden pl-6 gap-2 mt-10\">\r\n            <svg\r\n              width=\"16\"\r\n              height=\"11\"\r\n              viewBox=\"0 0 16 11\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                clipRule=\"evenodd\"\r\n                d=\"M0 .55.571 0H15.43l.57.55v9.9l-.571.55H.57L0 10.45zm1.143 1.138V9.9h13.714V1.69l-6.503 4.8h-.697zM13.749 1.1H2.25L8 5.356z\"\r\n                fill=\"#6B7280\"\r\n              />\r\n            </svg>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              className=\"bg-transparent text-gray-500/80 placeholder-gray-500/80 outline-none text-sm w-full h-full \"\r\n              required\r\n              name=\"username\"\r\n              value={formData.username}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-center w-full bg-transparent border border-gray-300/60 has-[input:focus]:border has-[input:focus]:border-[#05AF2B] h-12 rounded-full overflow-hidden pl-6 gap-2 mt-10\">\r\n            <svg\r\n              width=\"13\"\r\n              height=\"17\"\r\n              viewBox=\"0 0 13 17\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                d=\"M13 8.5c0-.938-.729-1.7-1.625-1.7h-.812V4.25C10.563 1.907 8.74 0 6.5 0S2.438 1.907 2.438 4.25V6.8h-.813C.729 6.8 0 7.562 0 8.5v6.8c0 .938.729 1.7 1.625 1.7h9.75c.896 0 1.625-.762 1.625-1.7zM4.063 4.25c0-1.406 1.093-2.55 2.437-2.55s2.438 1.144 2.438 2.55V6.8H4.061z\"\r\n                fill=\"#6B7280\"\r\n              />\r\n            </svg>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              className=\"bg-transparent text-gray-500/80 placeholder-gray-500/80 outline-none text-sm w-full h-full\"\r\n              required\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"mt-8 w-full h-11 rounded-full text-white bg-primary hover:opacity-90 transition-opacity cursor-pointer \"\r\n          >\r\n            Create Account\r\n          </button>\r\n        </form>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegistrationForm;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}